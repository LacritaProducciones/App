<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BrainTrack</title>
  <link rel="stylesheet" href="styles.css"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Registro -->
  <div id="auth-view" class="view active">
    <div class="auth-container">
      <h1 class="logo-title">üß† BrainTrack</h1>
      <h2>Registro</h2>
      <div class="auth-fields">
        <input id="username" placeholder="Nombre de usuario"/>
        <input id="email" placeholder="Correo electr√≥nico"/>
        <input id="password" type="password" placeholder="Contrase√±a"/>
        <button onclick="registerUser()">Registrarse</button>
      </div>
    </div>
  </div>

  <!-- App principal -->
  <div id="main-app" class="view">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar hidden">
      <nav class="menu">
        <button onclick="navigate('habit-view')">H√°bitos</button>
        <button onclick="navigate('stats-view')">Estad√≠sticas</button>
        <button onclick="navigate('ranking-view')">Ranking</button>
        <button onclick="navigate('streak-view')">Racha</button>
      </nav>
    </aside>

    <!-- Topbar -->
    <header class="topbar">
      <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
      <div id="user-info" class="user-info" onclick="openProfile()">
        <img id="user-avatar" class="avatar"
             src="https://www.gravatar.com/avatar/?d=mp&s=200"
             alt="Perfil"/>
        <span id="user-name">Usuario</span>
      </div>
    </header>

    <!-- Perfil full‚Äëscreen -->
    <section id="profile-view" class="view hidden">
      <header class="section-header profile-header">
        <button class="back-arrow" onclick="closeProfile()">‚Üê Volver</button>
        <h2>Perfil de Usuario</h2>
      </header>
      <div class="profile-body">
        <div class="avatar-wrapper">
          <img id="profile-preview" class="profile-avatar"
               src="https://www.gravatar.com/avatar/?d=mp&s=200"
               alt="Avatar"/>
          <input type="file" id="profile-picture" accept="image/*" disabled/>
        </div>
        <div class="profile-fields">
          <label>Nombre de usuario</label>
          <input type="text" id="edit-username" disabled/>

          <label>Correo electr√≥nico</label>
          <input type="email" id="edit-email" disabled/>

          <label>Contrase√±a</label>
          <input type="password" id="edit-password" value="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" disabled/>

          <label>Rachas acumuladas</label>
          <input type="text" id="edit-streak" disabled/>
        </div>
        <div class="profile-actions">
          <button id="btn-edit" class="btn-edit" onclick="toggleEdit()">‚úé Editar</button>
          <button id="btn-save" class="btn-save hidden" onclick="saveProfile()">‚úî Guardar</button>
        </div>
      </div>
    </section>

    <!-- H√°bitos -->
    <section id="habit-view" class="view content-section active">
      <h2>Panel de H√°bitos</h2>
      <div class="habit-input-vertical">
        <input id="new-habit" placeholder="A√±adir h√°bito personalizado"/>
        <button onclick="addHabit()">A√±adir</button>
      </div>
      <div id="preset-habits" class="habit-container"></div>
      <div id="habit-list" class="habit-container"></div>
    </section>

    <!-- Estad√≠sticas -->
    <section id="stats-view" class="view content-section">
      <h2>Estad√≠sticas</h2>
      <div id="charts" class="chart-grid"></div>
    </section>

    <!-- Ranking -->
    <section id="ranking-view" class="view content-section">
      <h2>Ranking</h2>
      <table id="ranking-table">
        <thead><tr><th>üë§ Usuario</th><th>üî• Racha</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Racha -->
    <section id="streak-view" class="view content-section">
      <h2>Racha</h2>
      <div class="streak-panel">
        <div id="fire-icon" class="fire-icon">üî•</div>
        <div id="streak-timer">00:00</div>
        <div class="progress-bar"><div id="streak-progress"></div></div>
        <div class="streak-label">Racha actual: <span id="streak-count">0</span></div>
      </div>
    </section>
  </div>

  <script src="script.js"></script>
</body>
</html>
